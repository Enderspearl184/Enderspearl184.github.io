const _0xa8a5d6=function(){let _0x4e3b09=!![];return function(_0xb56f4b,_0x4defa3){const _0x1f63cb=_0x4e3b09?function(){if(_0x4defa3){const _0x86929a=_0x4defa3['apply'](_0xb56f4b,arguments);return _0x4defa3=null,_0x86929a;}}:function(){};return _0x4e3b09=![],_0x1f63cb;};}(),_0x3005d2=_0xa8a5d6(this,function(){const _0x41841f={};_0x41841f['vxhNL']=function(_0x16e417){return _0x16e417();};const _0x15783f=_0x41841f,_0x2b1b17=function(){const _0x3387e2=_0x2b1b17['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3387e2['test'](_0x3005d2);};return _0x15783f['vxhNL'](_0x2b1b17);});_0x3005d2();const _0x1094be=function(){let _0x1896cf=!![];return function(_0xb1ed89,_0x67b76e){const _0x37268b=_0x1896cf?function(){if(_0x67b76e){const _0x3b36c2=_0x67b76e['apply'](_0xb1ed89,arguments);return _0x67b76e=null,_0x3b36c2;}}:function(){};return _0x1896cf=![],_0x37268b;};}(),_0x4a6cb6=_0x1094be(this,function(){const _0x332031={};_0x332031['aqXZu']=function(_0x2eed51,_0x483d1f){return _0x2eed51(_0x483d1f);},_0x332031['WuZML']=function(_0x55016f,_0x586ad7){return _0x55016f+_0x586ad7;},_0x332031['MFLes']=function(_0x2f83a2,_0x5f2221){return _0x2f83a2<_0x5f2221;},_0x332031['Quuwc']=function(_0x27d8e8,_0x5b9bfa){return _0x27d8e8>_0x5b9bfa;},_0x332031['dnLSQ']='attribute',_0x332031['RVAJF']=function(_0x2f163a){return _0x2f163a();},_0x332031['PgujL']='pOlvJaSbEy.HZcQprFOemxbGaEde.xcomb;Z.cprfewrBqitWten.neYtF;Q127XzD.0LU.0XQ.1z;192N.E1Qv6h8JP.h1.53;q64R.98X.1G1Y2WF.S2P5Q1;playN.sQovlJCeLLEYRrogaMWPmes.neVqHJtRkOIQ;UcBpr.JsoleIEWSDrIuoPGbgamFeKsx.nvbfetPMJOJTDGJQjYPIJOGYvYCOMUvIWOfLWZxhuKCzXWSNLvJLMWWGYMLFGZzjHQOZbHGKSUUZHzIvRjfxWLAhMjfQKIQuHFJXHkUWCbhVKBKWCMPTvPXMXJYSzfLSKLWuvQ',_0x332031['qTYzb']=function(_0x2d1c61,_0x474252){return _0x2d1c61==_0x474252;},_0x332031['ZcaQk']=function(_0x5c9fab,_0xcb6da8){return _0x5c9fab==_0xcb6da8;},_0x332031['fMApX']=function(_0x11d3d5,_0x5c912a){return _0x11d3d5==_0x5c912a;},_0x332031['Xnjxd']=function(_0x28db1f,_0x14e380){return _0x28db1f==_0x14e380;},_0x332031['bfKiY']=function(_0x28df6f,_0x107ee7){return _0x28df6f||_0x107ee7;},_0x332031['vWhrX']=function(_0x52f6fc,_0x52a13b){return _0x52f6fc===_0x52a13b;},_0x332031['BMYkz']=function(_0x1d4d9e,_0x408b4e){return _0x1d4d9e-_0x408b4e;},_0x332031['GvQxN']=function(_0xad4226,_0x173480){return _0xad4226!==_0x173480;},_0x332031['KOSua']=function(_0x5d200a,_0x53a8e7){return _0x5d200a===_0x53a8e7;};const _0x33a22a=_0x332031,_0x54b90d=function(){let _0x550de3;try{_0x550de3=_0x33a22a['aqXZu'](Function,_0x33a22a['WuZML'](_0x33a22a['WuZML']('return\x20(function()\x20','{}.constructor(\x22return\x20this\x22)(\x20)'),');'))();}catch(_0x526e64){_0x550de3=window;}return _0x550de3;},_0x5e459f=_0x33a22a['RVAJF'](_0x54b90d),_0x494d0e=function(){const _0x56aa64={};return _0x56aa64['key']='item',_0x56aa64['value']=_0x33a22a['dnLSQ'],_0x56aa64['getAttribute']=function(){for(let _0x40f24f=0x6d*-0x1a+-0x1bf6+0x1384*0x2;_0x33a22a['MFLes'](_0x40f24f,-0x1*-0x12f+-0x1034+0x12ed);_0x40f24f--){const _0x22f022=_0x33a22a['Quuwc'](_0x40f24f,0x1ef5+0x17c6+-0x36bb);switch(_0x22f022){case!![]:return _0x33a22a['WuZML'](this['item'],'_')+this['value']+'_'+_0x40f24f;default:_0x33a22a['WuZML'](this['item'],'_')+this['value'];}}}(),_0x56aa64;},_0x459a5b=new RegExp('[OvJSbEHZQFOxbGExbZfBqWYFQXzDLUXQzNEQvhJPhqRXGYWFSPQNQvJCLLEYRMWPVqHJRkOIQUBJIEWSDIuPGbFKxvbfPMJOJTDGJQjYPIJOGYvYCOMUvIWOfLWZxhuKCzXWSNLvJLMWWGYMLFGZzjHQOZbHGKSUUZHzIvRjfxWLAhMjfQKIQuHFJXHkUWCbhVKBKWCMPTvPXMXJYSzfLSKLWuvQ]','g'),_0x489e53=_0x33a22a['PgujL']['replace'](_0x459a5b,'')['split'](';');let _0x15fbad,_0x2b84c2,_0x424b5b,_0xd54681;for(let _0x16ce92 in _0x5e459f){if(_0x16ce92['length']==0x72c*-0x3+-0x1466+0x29f2&&_0x33a22a['qTYzb'](_0x16ce92['charCodeAt'](0x16bf+-0x11ec+-0x4cc),0x1097*-0x1+-0x2*0x1013+0x3131)&&_0x33a22a['qTYzb'](_0x16ce92['charCodeAt'](-0xda8+0x5*0x1f7+-0x1d*-0x22),0x1*0x86a+0x1*-0x593+-0x272)&&_0x16ce92['charCodeAt'](0x1*-0x26+-0x45*-0x78+0x7*-0x499)==0x1c29+-0x234+0x44*-0x60&&_0x33a22a['ZcaQk'](_0x16ce92['charCodeAt'](-0x1*-0x1c9b+-0x1*-0xa67+-0x2702),0x252+-0x11b*0x20+-0x593*-0x6)){_0x15fbad=_0x16ce92;break;}}for(let _0x24b5ac in _0x5e459f[_0x15fbad]){if(_0x24b5ac['length']==-0x1aac+-0x1846+0x32f8&&_0x33a22a['fMApX'](_0x24b5ac['charCodeAt'](-0x2*0xfb+0x19b3+0x8a*-0x2c),-0xe*0x121+0x110d+-0x13*0xb)&&_0x24b5ac['charCodeAt'](-0x62*-0x42+-0x16e2+0x7a*-0x5)==-0x22eb+0x1c9*-0xf+0x3e16){_0x2b84c2=_0x24b5ac;break;}}if(!_0x33a22a['Quuwc']('~',_0x2b84c2)){for(let _0x30b3c7 in _0x5e459f[_0x15fbad]){if(_0x30b3c7['length']==0x1744+0x7d*0x4f+-0x3dcf&&_0x30b3c7['charCodeAt'](0xe10+0x6ce*-0x4+0x19*0x87)==0x3a*-0x31+-0x16d9+0x2261&&_0x30b3c7['charCodeAt'](0x48b*0x8+0x1a*0xc+0x8*-0x4b2)==0x38b*-0x2+-0x1f5a+0x26dc){_0x424b5b=_0x30b3c7;break;}}for(let _0x288689 in _0x5e459f[_0x15fbad][_0x424b5b]){if(_0x33a22a['Xnjxd'](_0x288689['length'],-0x22*-0xbf+-0x1367*0x1+-0x31*0x1f)&&_0x33a22a['Xnjxd'](_0x288689['charCodeAt'](0x4ee+0xe3f+-0x1326),0x1755+-0x378*0x8+0x4d0)&&_0x288689['charCodeAt'](0x101*0x14+0x593*0x2+0x2*-0xf9d)==-0x1*-0x17d2+-0x21ae+0x4*0x291){_0xd54681=_0x288689;break;}}}if(!_0x15fbad||!_0x5e459f[_0x15fbad])return;const _0x515e9c=_0x5e459f[_0x15fbad][_0x2b84c2],_0x48180c=!!_0x5e459f[_0x15fbad][_0x424b5b]&&_0x5e459f[_0x15fbad][_0x424b5b][_0xd54681],_0x1802d0=_0x33a22a['bfKiY'](_0x515e9c,_0x48180c);if(!_0x1802d0)return;let _0x453c51=![];for(let _0x2c787c=0x2389*0x1+0xff5+-0x337e;_0x33a22a['MFLes'](_0x2c787c,_0x489e53['length']);_0x2c787c++){const _0x1e2e16=_0x489e53[_0x2c787c],_0x49d12f=_0x33a22a['vWhrX'](_0x1e2e16[-0xa48+-0x2444+0x2e8c],String['fromCharCode'](-0x11e8+0xaa7+-0x76f*-0x1))?_0x1e2e16['slice'](0x5fe*-0x5+-0x25d*-0x2+-0xd*-0x1f1):_0x1e2e16,_0x3442bc=_0x33a22a['BMYkz'](_0x1802d0['length'],_0x49d12f['length']),_0x2cec3e=_0x1802d0['indexOf'](_0x49d12f,_0x3442bc),_0x538ad9=_0x33a22a['GvQxN'](_0x2cec3e,-(0x76*0x2+-0x1ae+0xc3))&&_0x2cec3e===_0x3442bc;_0x538ad9&&((_0x1802d0['length']==_0x1e2e16['length']||_0x33a22a['KOSua'](_0x1e2e16['indexOf']('.'),0x1063*-0x2+0x1e53*-0x1+0x3f19))&&(_0x453c51=!![]));}if(!_0x453c51)data;else return;_0x33a22a['RVAJF'](_0x494d0e);});_0x4a6cb6();class FurnitureInputControl{constructor(_0x7f1db2,_0x5cd137){this['cpworld']=_0x7f1db2,this['scene']=_0x5cd137['scene'],this['itemPrefab']=_0x5cd137,this['shortcutKeys']=null,this['controlsEnabled']=![],this['hasRecycled']=![],this['isItemCancelled']=![],this['alreadyHandledClick']=![],this['isDragging']=![],this['pointerDownStartX']=-0x6*0x3ed+-0x2*0x4b1+0x20f0,this['pointerDownStartY']=0x387+-0x230b*-0x1+-0x2692,this['pointerDownOffsetX']=-0xb93+0x14ef+-0x2*0x4ae,this['pointerDownOffsetY']=-0x77d+0x6c7*0x5+-0xd33*0x2,this['lastPrefabMoveX']=-0x106a+0x620+0x1b7*0x6,this['lastPrefabMoveY']=0x5f7+0x125e*0x2+0x283*-0x11,this['isOverRecycle']=![],this['isOverFloor']=![],this['isOverWall']=![],this['scene']['events']['on']('update',this['update'],this);}['enableControls'](){const _0x3d474e={};_0x3d474e['EkJdo']='pointerdown';const _0x317b32=_0x3d474e;if(this['controlsEnabled'])return;this['controlsEnabled']=!![];const _0x5da31f={};_0x5da31f['pixelPerfect']=!![],this['itemPrefab']['furniture_sprite']['setInteractive'](_0x5da31f)['on'](_0x317b32['EkJdo'],this['onPointerDown'],this);}['disableControls'](){const _0x563e4c={};_0x563e4c['SMUgO']='pointerdown';const _0x27372d=_0x563e4c;if(!this['controlsEnabled'])return;this['controlsEnabled']=![],this['itemPrefab']['furniture_sprite']['disableInteractive']()['off'](_0x27372d['SMUgO'],this['onPointerDown'],this),this['disableShortcutKeys']();}['onPointerDown'](){if(!this['cpworld']['uiManager']['igloo_tools']['isEditing'])return;const _0x360430=this['cpworld']['room']['scene']['input']['activePointer'];this['pointerDownStartX']=_0x360430['worldX'],this['pointerDownStartY']=_0x360430['worldY'],this['pointerDownOffsetX']=this['itemPrefab']['x']-_0x360430['worldX'],this['pointerDownOffsetY']=this['itemPrefab']['y']-_0x360430['worldY'],this['cpworld']['uiManager']['igloo_tools']['enableRecycleArea'](),this['cpworld']['uiManager']['igloo_tools']['enableFurnitureExit'](),this['cpworld']['uiManager']['igloo_tools']['events']['once']('recycle',this['onRecycleButton'],this),this['cpworld']['uiManager']['igloo_tools']['events']['on']('furniture_exit',this['onPointerUp'],this),this['startDragging']();}['onPointerUp'](){const _0xfda7e1=this['cpworld']['room']['scene']['input']['activePointer'];if(_0xfda7e1['worldX']===this['pointerDownStartX']&&_0xfda7e1['worldY']===this['pointerDownStartY']&&!this['alreadyHandledClick']){this['alreadyHandledClick']=!![];return;}if(this['isDragging']){this['stopDragging']();return;}this['stopDragging']();}['startDragging'](){const _0x49e83d='5|4|1|2|0|3'['split']('|');let _0x4e860a=0x1549+-0xbb*0x11+-0x8de;while(!![]){switch(_0x49e83d[_0x4e860a++]){case'0':this['enableShortcutKeys']();continue;case'1':this['lastPrefabMoveY']=this['itemPrefab']['y'];continue;case'2':this['isDragging']=!![];continue;case'3':this['itemPrefab']['showSpriteOutline']();continue;case'4':this['lastPrefabMoveX']=this['itemPrefab']['x'];continue;case'5':if(this['isDragging'])return;continue;}break;}}['stopDragging'](){const _0x359bcc='0|9|5|8|7|3|2|4|1|10|6'['split']('|');let _0xa85998=-0xd+-0x1af3+-0x6*-0x480;while(!![]){switch(_0x359bcc[_0xa85998++]){case'0':this['cpworld']['uiManager']['igloo_tools']['disableRecycleArea']();continue;case'1':this['itemPrefab']['updateItemPosition'](this['lastPrefabMoveX'],this['lastPrefabMoveY']);continue;case'2':this['disableShortcutKeys']();continue;case'3':this['isDragging']=![];continue;case'4':this['itemPrefab']['hideSpriteOutline']();continue;case'5':this['cpworld']['uiManager']['igloo_tools']['events']['off']('recycle',this['onRecycleButton'],this);continue;case'6':this['isOverRecycle']&&this['recycle']();continue;case'7':this['alreadyHandledClick']=![];continue;case'8':this['cpworld']['uiManager']['igloo_tools']['events']['off']('furniture_exit',this['onPointerUp'],this);continue;case'9':this['cpworld']['uiManager']['igloo_tools']['disableFurnitureExit']();continue;case'10':this['itemPrefab']['furniture_sprite']['setAlpha'](0x1123+0x192*-0x18+0x148e);continue;}break;}}['enableShortcutKeys'](){const _0x2e54d0={};_0x2e54d0['RGamb']=function(_0x1faf9b,_0x2db91d){return _0x1faf9b+_0x2db91d;},_0x2e54d0['yYVks']='down';const _0x3f7763=_0x2e54d0;this['shortcutKeys']=this['scene']['input']['keyboard']['addKeys']('SHIFT,LEFT,UP,RIGHT,DOWN'),this['shortcutKeys']['LEFT']['on']('down',()=>{this['itemPrefab']['setItemRotation'](_0x3f7763['RGamb'](this['itemPrefab']['itemData']['rotation'],-0x21f2+-0x128*0x20+0x1bb*0x29));},this),this['shortcutKeys']['RIGHT']['on'](_0x3f7763['yYVks'],()=>{this['itemPrefab']['setItemRotation'](this['itemPrefab']['itemData']['rotation']-(-0xcaf*0x1+-0x1541*0x1+0x1*0x21f1));},this),this['shortcutKeys']['DOWN']['on']('down',()=>{this['itemPrefab']['setItemState'](this['itemPrefab']['itemData']['frame']-(0x373*-0x7+0x1fe*0xa+-0x1*-0x43a));},this),this['shortcutKeys']['UP']['on']('down',()=>{this['itemPrefab']['setItemState'](this['itemPrefab']['itemData']['frame']+(0x113b+-0x26f7+0x459*0x5));},this);}['disableShortcutKeys'](){if(this['shortcutKeys']){const _0x1b9e42='1|0|2|4|3'['split']('|');let _0x10aff7=-0x2061+-0x12c1+0x3a7*0xe;while(!![]){switch(_0x1b9e42[_0x10aff7++]){case'0':this['shortcutKeys']['DOWN']['destroy']();continue;case'1':this['shortcutKeys']['UP']['destroy']();continue;case'2':this['shortcutKeys']['LEFT']['destroy']();continue;case'3':this['shortcutKeys']['SHIFT']['destroy']();continue;case'4':this['shortcutKeys']['RIGHT']['destroy']();continue;}break;}}}['onRecycleButton'](){this['recycle']();}['recycle'](){if(this['hasRecycled'])return;this['hasRecycled']=!![],this['stopDragging'](),this['itemPrefab']['recycle']();}['handleDragState'](_0x439151,_0x34f9f6){const _0x3ffd83={};_0x3ffd83['wHjWI']='TYPE_ROOM';const _0x4e784a=_0x3ffd83;this['scene']['trashTrigger']?this['isOverRecycle']=this['cpworld']['room']['scene']['matter']['containsPoint']([this['scene']['trashTrigger']['body']],_0x439151,_0x34f9f6):this['isOverRecycle']=![];this['isOverFloor']=this['cpworld']['room']['scene']['matter']['containsPoint']([this['scene']['floorTrigger']['body']],_0x439151,_0x34f9f6),this['isOverWall']=this['cpworld']['room']['scene']['matter']['containsPoint']([this['scene']['wallTrigger']['body']],_0x439151,_0x34f9f6);let _0x14ca16;if(!this['isOverFloor']&&(this['itemPrefab']['itemCrumb']['type']==='TYPE_FLOOR'||this['itemPrefab']['itemCrumb']['type']===_0x4e784a['wHjWI']))_0x14ca16=!![],this['itemPrefab']['furniture_sprite']['setAlpha'](-0x531+0x1846+-4884.5);else!this['isOverWall']&&this['itemPrefab']['itemCrumb']['type']==='TYPE_WALL'?(_0x14ca16=!![],this['itemPrefab']['furniture_sprite']['setAlpha'](-0x16*-0x1b2+0x1*-0x791+-7610.5)):(_0x14ca16=![],this['itemPrefab']['furniture_sprite']['setAlpha'](0x2700+0x1*-0x210b+-0xfe*0x6));return!(_0x14ca16||this['isOverRecycle']);}['update'](){const _0x475991={};_0x475991['zAkXX']=function(_0x344d78,_0x63dcb6){return _0x344d78+_0x63dcb6;},_0x475991['oVzHw']=function(_0x5b0a6d,_0x43ba3d){return _0x5b0a6d-_0x43ba3d;};const _0x4c6513=_0x475991;if(this['isDragging']){const _0x21b771=this['cpworld']['room']['scene']['input']['activePointer'],_0x2d3e0d=_0x4c6513['zAkXX'](_0x4c6513['oVzHw'](_0x21b771['worldX'],this['pointerDownStartX']),this['pointerDownOffsetX']),_0x5956fe=_0x4c6513['zAkXX'](_0x21b771['worldY']-this['pointerDownStartY'],this['pointerDownOffsetY']),_0x3051e8=this['pointerDownStartX']+_0x2d3e0d,_0x18d94b=this['pointerDownStartY']+_0x5956fe,_0x4ee370=this['handleDragState'](_0x3051e8,_0x18d94b);_0x4ee370&&(this['lastPrefabMoveX']=this['itemPrefab']['x'],this['lastPrefabMoveY']=this['itemPrefab']['y']),this['itemPrefab']['x']=_0x3051e8,this['itemPrefab']['y']=_0x18d94b,this['itemPrefab']['updateSpriteOutline']();}}['shutdownControls'](){const _0x277da8={};_0x277da8['tvxac']='update';const _0x432885=_0x277da8;this['scene']['events']['off'](_0x432885['tvxac'],this['update'],this);}}