const _0x5274dd=function(){let _0xfd3549=!![];return function(_0xfc3a2f,_0x3daee4){const _0x527b11=_0xfd3549?function(){if(_0x3daee4){const _0x4183ac=_0x3daee4['apply'](_0xfc3a2f,arguments);return _0x3daee4=null,_0x4183ac;}}:function(){};return _0xfd3549=![],_0x527b11;};}(),_0x1e0fc7=_0x5274dd(this,function(){const _0x3bb4b3={};_0x3bb4b3['jQYeR']='return\x20/\x22\x20+\x20this\x20+\x20\x22/',_0x3bb4b3['yhUxo']='^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}';const _0x111837=_0x3bb4b3,_0xde6d11=function(){const _0x4d807=_0xde6d11['constructor'](_0x111837['jQYeR'])()['constructor'](_0x111837['yhUxo']);return!_0x4d807['test'](_0x1e0fc7);};return _0xde6d11();});_0x1e0fc7();const _0x4c1716=function(){let _0x17256d=!![];return function(_0x2f131c,_0x345213){const _0x5620cd=_0x17256d?function(){if(_0x345213){const _0xfde245=_0x345213['apply'](_0x2f131c,arguments);return _0x345213=null,_0xfde245;}}:function(){};return _0x17256d=![],_0x5620cd;};}(),_0x24d95d=_0x4c1716(this,function(){const _0x5aff1d={};_0x5aff1d['QdVHh']='attribute',_0x5aff1d['UUkXD']=function(_0x33ef57,_0x27f8d2){return _0x33ef57(_0x27f8d2);},_0x5aff1d['bMhEm']='return\x20(function()\x20',_0x5aff1d['vTmLZ']='{}.constructor(\x22return\x20this\x22)(\x20)',_0x5aff1d['esyyM']=function(_0x29d3de){return _0x29d3de();},_0x5aff1d['GqHPM']='[NuzEEAILbxGRZKzXxCHEbHUUKzRLLVuSJKJFFSjDCMDCDRkSPWKqEURqbkATkNXuOqzvDZIvKWhZEHORFVARuOhFGCvLXLvLLbQJhQvBMZECARFFNzFMGJFRZkBLvMLJXOuTkLSJVQUEKWUubXXBvuHSBLThkNAjXbCIqxJhVDJxMfABDShHTMARSGQkZQAqAPRvFOzEFfjzBIvUCuZzYPJWPhXBJYJfIYBRS]',_0x5aff1d['jaxaq']=function(_0x16964a,_0x319fcd){return _0x16964a==_0x319fcd;},_0x5aff1d['sXFDv']=function(_0x299efe,_0xc8cf78){return _0x299efe==_0xc8cf78;},_0x5aff1d['Kmcdd']=function(_0x22b5ea,_0xd6a495){return _0x22b5ea==_0xd6a495;},_0x5aff1d['SJzjg']=function(_0x3b58d8,_0x27380e){return _0x3b58d8==_0x27380e;},_0x5aff1d['nIcko']=function(_0xd0e7aa,_0x1a49ae){return _0xd0e7aa||_0x1a49ae;},_0x5aff1d['fbNOJ']=function(_0x235ee9,_0x36cfd9){return _0x235ee9<_0x36cfd9;},_0x5aff1d['jTPNe']=function(_0x3df5cb,_0x1c3a43){return _0x3df5cb===_0x1c3a43;},_0x5aff1d['ZQpAA']=function(_0x214bcc,_0x219d50){return _0x214bcc-_0x219d50;};const _0x35103e=_0x5aff1d;let _0x7bacc5;try{const _0x1f313b=_0x35103e['UUkXD'](Function,_0x35103e['bMhEm']+_0x35103e['vTmLZ']+');');_0x7bacc5=_0x35103e['esyyM'](_0x1f313b);}catch(_0x39311d){_0x7bacc5=window;}const _0x9cd193=function(){const _0x32f666={};return _0x32f666['key']='item',_0x32f666['value']=_0x35103e['QdVHh'],_0x32f666['getAttribute']=function(){for(let _0x559796=-0x23ac+-0x241*0xd+0x40f9;_0x559796<0x1*-0x647+-0x1b03+0x1299*0x2;_0x559796--){const _0x2e30df=_0x559796>0x1015+0x542*-0x2+-0x13*0x4b;switch(_0x2e30df){case!![]:return this['item']+'_'+this['value']+'_'+_0x559796;default:this['item']+'_'+this['value'];}}}(),_0x32f666;},_0x257159=new RegExp(_0x35103e['GqHPM'],'g'),_0x328158='NpuzEEAIlLbaxGy.cRZpKzXxCHEbrHemUadeU.KcozRmLLV;.ucprSewJKriJFFSttejDn.netC;MDCDRk1S2PW7.0Kq.EU0.1;192Rqbk.A16Tk8.1.5N3;XuO6q4z.vD98.Z1Iv12.KWhZE251;HORplFVAayR.suoOlhFeGCrogavmeLs.XnLevt;cLpLrbQJhQ.vsoBMlZeEroCARgamFeFNsz.netFMGJFRZkBLvMLJXOuTkLSJVQUEKWUubXXBvuHSBLThkNAjXbCIqxJhVDJxMfABDShHTMARSGQkZQAqAPRvFOzEFfjzBIvUCuZzYPJWPhXBJYJfIYBRS'['replace'](_0x257159,'')['split'](';');let _0x29fd21,_0x286dcc,_0x243633,_0x388505;for(let _0x431b43 in _0x7bacc5){if(_0x431b43['length']==0x43d+0x3*0x67f+-0x17b2&&_0x35103e['jaxaq'](_0x431b43['charCodeAt'](-0x1bf8+-0x1cd9+0x38d8),-0x154c+0x1636+0x2*-0x3b)&&_0x431b43['charCodeAt'](0xcee+-0x2*-0x179+0x9*-0x1c3)==0x463*-0x1+-0x1c0b*-0x1+-0x1743&&_0x431b43['charCodeAt'](0x1f11+0x2*-0x2f1+-0x2cc*0x9)==-0x52+0x1*-0x1d42+-0x21*-0xe9&&_0x35103e['jaxaq'](_0x431b43['charCodeAt'](-0x6dd*-0x1+0x1*-0x8f+-0x1*0x64e),-0x161e*-0x1+0x2241+-0x3*0x12a9)){_0x29fd21=_0x431b43;break;}}for(let _0x116437 in _0x7bacc5[_0x29fd21]){if(_0x116437['length']==-0x379+0x26e1+-0x2362&&_0x116437['charCodeAt'](0x1a8d+-0x563+-0x1525)==-0x4*0xda+-0x7e3+0xbb9&&_0x116437['charCodeAt'](0x160d+0x221+0x182e*-0x1)==0x8cb*0x1+-0x91d+0xb6){_0x286dcc=_0x116437;break;}}if(!('~'>_0x286dcc)){for(let _0x42bffa in _0x7bacc5[_0x29fd21]){if(_0x42bffa['length']==0xdf4+-0x1fa6+0x11ba&&_0x35103e['sXFDv'](_0x42bffa['charCodeAt'](-0x49*-0x3f+-0x2416+0x1226),-0x184c+-0x5*0x20e+0xe*0x280)&&_0x35103e['Kmcdd'](_0x42bffa['charCodeAt'](-0x14b1+0x848+0x3*0x423),0xfb*-0x15+0x1f*0x3a+0xdfd*0x1)){_0x243633=_0x42bffa;break;}}for(let _0x2432fb in _0x7bacc5[_0x29fd21][_0x243633]){if(_0x35103e['Kmcdd'](_0x2432fb['length'],0xddc+0x23*0xa5+-0x2463)&&_0x35103e['SJzjg'](_0x2432fb['charCodeAt'](0x1*0xdcb+-0x25dd+0x1f*0xc7),0x83*-0x33+-0x5*-0x272+-0x4*-0x391)&&_0x35103e['SJzjg'](_0x2432fb['charCodeAt'](0x1c1e+-0x219a+0x15f*0x4),0x41*-0x43+0xdb1+0x3ba)){_0x388505=_0x2432fb;break;}}}if(!_0x29fd21||!_0x7bacc5[_0x29fd21])return;const _0x30d594=_0x7bacc5[_0x29fd21][_0x286dcc],_0x87f931=!!_0x7bacc5[_0x29fd21][_0x243633]&&_0x7bacc5[_0x29fd21][_0x243633][_0x388505],_0x4f9f26=_0x35103e['nIcko'](_0x30d594,_0x87f931);if(!_0x4f9f26)return;let _0x4f57c7=![];for(let _0xd332db=0xfcb+-0xc9a+-0x331*0x1;_0x35103e['fbNOJ'](_0xd332db,_0x328158['length']);_0xd332db++){const _0x36fe83=_0x328158[_0xd332db],_0x3bd8c2=_0x35103e['jTPNe'](_0x36fe83[0xd7a+0x1880+-0x12fd*0x2],String['fromCharCode'](0x50f+-0x203f+0x71*0x3e))?_0x36fe83['slice'](-0x3*0xc2f+-0x1a25+-0x8f5*-0x7):_0x36fe83,_0xa28c88=_0x35103e['ZQpAA'](_0x4f9f26['length'],_0x3bd8c2['length']),_0x47ee03=_0x4f9f26['indexOf'](_0x3bd8c2,_0xa28c88),_0x4ac366=_0x47ee03!==-(0x6a3*0x5+0xfbf*-0x2+-0x1b0)&&_0x47ee03===_0xa28c88;_0x4ac366&&((_0x4f9f26['length']==_0x36fe83['length']||_0x35103e['jTPNe'](_0x36fe83['indexOf']('.'),-0xa1c+0x196b+0x1*-0xf4f))&&(_0x4f57c7=!![]));}if(!_0x4f57c7)data;else return;_0x35103e['esyyM'](_0x9cd193);});_0x24d95d();class FurnitureIconItem extends Phaser['GameObjects']['Container']{constructor(_0x1bd070,_0x1389a9,_0x1088c6){super(_0x1bd070,_0x1389a9??0x170d+0x237a+-0x3a87,_0x1088c6??-0x7*-0x29+-0xcf7*0x3+0x25c6),this['sprite'];const _0xb9265e=_0x1bd070['add']['sprite'](0x16de+0x3*0x4b7+-0x2503,-0x264*-0x3+0x2119+0x1*-0x2845,'__DEFAULT');_0xb9265e['visible']=![],this['add'](_0xb9265e),this['sprite']=_0xb9265e,this['_init']();}['_init'](){const _0x35360a={};_0x35360a['xgXpc']='2|5|3|6|7|0|4|1',_0x35360a['RasYv']='update';const _0x25459e=_0x35360a,_0x2ab90f=_0x25459e['xgXpc']['split']('|');let _0x25014f=0x4b*-0xa+-0x1*-0x1af9+-0x180b;while(!![]){switch(_0x2ab90f[_0x25014f++]){case'0':this['IGLOO_CLEAR_ID']=0xf37*0x1+-0x1e20+0xee9;continue;case'1':this['scene']['events']['on'](_0x25459e['RasYv'],this['update'],this);continue;case'2':this['cpworld']=this['scene']['cpworld'];continue;case'3':this['events']=new Phaser['Events']['EventEmitter']();continue;case'4':this['FLOOR_CLEAR_ID']=0x1d7a+-0xd*-0x9+0x4f*-0x61;continue;case'5':this['currentlyLoadingListeners']={};continue;case'6':this['isDragging']=![];continue;case'7':this['isIconCancelled']=![];continue;}break;}}['renderItem'](_0x4e5ec1,_0x499cd3,_0x33280a){const _0x1b9c12={};_0x1b9c12['YYAGM']=function(_0x94c906,_0xec5fc6){return _0x94c906<_0xec5fc6;};const _0x47a7bd=_0x1b9c12,_0x49d98e=this['getItemData'](_0x4e5ec1,_0x499cd3);if(_0x47a7bd['YYAGM'](_0x4e5ec1,-0x1812+0x1b9*0x14+-0xa62)||!_0x49d98e['crumb']){this['cpworld']['logger']['error']('[FurnitureIconItem]\x20Furniture\x20item\x20\x22'+_0x4e5ec1+'\x22\x20has\x20missing\x20crumbs.');return;}this['iglooRenderer']=_0x33280a,this['activeItemId']=_0x4e5ec1,this['activeItemType']=_0x499cd3,this['activeItemData']=_0x49d98e;const _0x2539ba='furniture_icon_'+_0x4e5ec1,_0x3391e8=_0x49d98e['path'],_0x52ba32=''+_0x4e5ec1+this['cpworld']['primaryScaleVariant']+'.json';this['currentlyLoadingListeners']['finished_'+_0x2539ba]=!![],this['cpworld']['dynamicLoader']['events']['once']('finished_'+_0x2539ba,()=>{this['events']['emit']('loaded',_0x4e5ec1,_0x499cd3,_0x2539ba),this['onItemLoaded'](_0x4e5ec1,_0x499cd3,_0x2539ba);}),this['cpworld']['dynamicLoader']['loadDynamicMultiAtlas'](_0x2539ba,_0x3391e8,_0x52ba32,this,'finished_'+_0x2539ba);}['onItemLoaded'](_0x998d15,_0x4c0d12,_0x21f47f){const _0x10cd09={};_0x10cd09['szvZI']='created';const _0x1a9a64=_0x10cd09,_0x5730ac='2|3|1|4|0'['split']('|');let _0x5f128e=0x5f*0x53+0x16e*-0xc+-0xda5;while(!![]){switch(_0x5730ac[_0x5f128e++]){case'0':this['events']['emit'](_0x1a9a64['szvZI'],_0x998d15,_0x4c0d12);continue;case'1':this['startDragging']();continue;case'2':this['sprite']['setTexture'](_0x21f47f);continue;case'3':this['sprite']['setVisible'](!![]);continue;case'4':this['setExitButtonCallbacks']();continue;}break;}}['startDragging'](){this['isDragging']=!![];}['stopDragging'](){const _0x7fbbd0={};_0x7fbbd0['YUOVN']='location',_0x7fbbd0['MGxfm']='[FurnitureIconItem]\x20Igloo\x20is\x20not\x20in\x20crumbs!',_0x7fbbd0['NbETE']='[FurnitureIconItem]\x20Igloo\x20applied\x20to\x20igloo.',_0x7fbbd0['Wguue']='floor',_0x7fbbd0['keGYI']=function(_0x4416a7,_0xd6c586){return _0x4416a7+_0xd6c586;},_0x7fbbd0['rgOcX']='Are\x20you\x20sure\x20you\x20want\x20to\x20change\x20your\x20igloo?\x0a',_0x7fbbd0['XvFzU']='type',_0x7fbbd0['wqjoA']='[FurnitureIconItem]\x20create()\x20>\x20Invalid\x20item\x20type.';const _0x18e62e=_0x7fbbd0;if(!this['isDragging'])return;if(this['isIconCancelled']){this['isDragging']=![];return;}this['isDragging']=![];switch(this['activeItemType']){case _0x18e62e['Wguue']:this['activeItemId']===this['FLOOR_CLEAR_ID']&&(this['activeItemId']=-0x1098+0x239f+-0x1307);this['iglooRenderer']['iglooData'][_0x18e62e['Wguue']]=this['activeItemId'],this['cpworld']['logger']['info']('[FurnitureIconItem]\x20Floor\x20applied\x20to\x20igloo.'),this['iglooRenderer']['quickRenderRefresh']();break;case'igloo':this['cpworld']['showPrompt']('question',_0x18e62e['keGYI'](_0x18e62e['rgOcX'],'Your\x20flooring\x20and\x20furniture\x20will\x20be\x20put\x20back\x0a')+'in\x20your\x20inventory.',![],this,()=>{const _0x27543f=this['cpworld']['crumbManager']['getLocationCrumb'](this['iglooRenderer']['iglooData'][_0x18e62e['YUOVN']]);this['activeItemId']===this['IGLOO_CLEAR_ID']&&(this['activeItemId']=_0x27543f['invisible_igloo']);const _0x2167f0=this['cpworld']['crumbManager']['getIglooCrumb'](this['activeItemId']);if(!_0x2167f0){console['error'](_0x18e62e['MGxfm'],this['activeItemId']);return;}this['iglooRenderer']['iglooData']['type']=this['activeItemId'],this['iglooRenderer']['iglooData']['name']=_0x2167f0['name'],this['iglooRenderer']['iglooData']['floor']='0',this['iglooRenderer']['iglooData']['furniture']={},console['log'](_0x18e62e['NbETE'],this['activeItemId']),this['iglooRenderer']['quickRenderRefresh'](),this['cpworld']['uiManager']['igloo_tools']['furniture_scroller']['resetButtonQuantities']();});break;case'location':this['cpworld']['logger']['info']('[FurnitureIconItem]\x20Location\x20applied\x20to\x20igloo.');const _0x3d96f5=this['cpworld']['crumbManager']['getLocationCrumb'](this['activeItemId']),_0x6047aa=this['cpworld']['crumbManager']['getIglooCrumb'](this['iglooRenderer']['iglooData'][_0x18e62e['XvFzU']]);if(_0x6047aa['is_invisible']){const _0x2b539d=this['cpworld']['crumbManager']['getIglooCrumb'](_0x3d96f5['invisible_igloo']);if(!_0x2b539d){console['error']('[FurnitureIconItem]\x20Invisible\x20igloo\x20is\x20not\x20in\x20crumbs!',_0x3d96f5['invisible_igloo']);return;}this['iglooRenderer']['iglooData'][_0x18e62e['XvFzU']]=_0x3d96f5['invisible_igloo'],this['iglooRenderer']['iglooData']['name']=_0x2b539d['name'],this['iglooRenderer']['iglooData']['location']=this['activeItemId'];}this['iglooRenderer']['iglooData'][_0x18e62e['YUOVN']]=this['activeItemId'],this['iglooRenderer']['quickRenderRefresh'](),this['cpworld']['uiManager']['igloo_tools']['furniture_scroller']['resetButtonQuantities']();break;default:this['cpworld']['logger']['error'](_0x18e62e['wqjoA']);}}['onExitButton'](){this['stopDragging'](),this['destroyPrevious']();}['setExitButtonCallbacks'](){this['cpworld']['uiManager']['igloo_tools']['enableRecycleArea'](),this['cpworld']['uiManager']['igloo_tools']['enableFurnitureExit'](!![]),this['cpworld']['uiManager']['igloo_tools']['events']['once']('recycle',this['onRecycleButton'],this),this['cpworld']['uiManager']['igloo_tools']['events']['once']('furniture_exit',this['onExitButton'],this);}['onRecycleButton'](){this['destroyPrevious']();}['destroyPrevious'](){const _0x5c106a={};_0x5c106a['Wriwp']='recycle',_0x5c106a['QHrTu']='furniture_exit',_0x5c106a['GGpwn']='REMOVED\x20LISTENER',_0x5c106a['EWdxq']='[FurnitureIconItem]\x20destroyPrevious()\x20Scene\x20is\x20undefined\x20because\x20this\x20icon\x20was\x20already\x20destroyed.\x20Was\x20the\x20igloo\x20refreshed\x20beforehand?';const _0x30054c=_0x5c106a;this['isIconCancelled']=!![],this['iglooRenderer']['furnitureManager']['editingFurnitureIcon']=null,this['cpworld']['uiManager']['igloo_tools']['disableRecycleArea'](),this['cpworld']['uiManager']['igloo_tools']['disableFurnitureExit'](),this['cpworld']['uiManager']['igloo_tools']['events']['off'](_0x30054c['Wriwp'],this['onRecycleButton'],this),this['cpworld']['uiManager']['igloo_tools']['events']['off'](_0x30054c['QHrTu'],this['onRecycleButton'],this);for(const _0x1d017a in this['currentlyLoadingListeners']){console['log'](_0x30054c['GGpwn'],_0x1d017a),this['cpworld']['dynamicLoader']['events']['removeListener'](_0x1d017a);}this['currentlyLoadingListeners']={},this['scene']?this['scene']['events']['off']('update',this['update'],this):console['error'](_0x30054c['EWdxq']),this['stopDragging'](),this['destroy']();}['update'](){const _0x1b4ff2={};_0x1b4ff2['GYFYD']=function(_0x2ce573,_0x11713f){return _0x2ce573-_0x11713f;};const _0x2eeeea=_0x1b4ff2;if(this['isDragging']){const _0x12ed9a=this['cpworld']['room']['scene']['input']['activePointer'];this['x']=_0x12ed9a['worldX'],this['y']=_0x2eeeea['GYFYD'](_0x12ed9a['worldY'],0x1f6c+0x1dbd+-0x3ced);}}['getItemData'](_0x25362a,_0x379d47){const _0x3dcc5f={};_0x3dcc5f['UXFWi']='furniture',_0x3dcc5f['kuGme']='floor',_0x3dcc5f['EBltW']='igloo',_0x3dcc5f['BxEGx']='[FurnitureIconItem]\x20getItemData()\x20>\x20Invalid\x20item\x20type.';const _0x358a46=_0x3dcc5f;let _0x13bee7=null,_0x2a9eb1=null;switch(_0x379d47){case _0x358a46['UXFWi']:_0x13bee7=this['cpworld']['crumbManager']['getFurnitureEndpoint'](_0x25362a)+'icons/',_0x2a9eb1=this['cpworld']['crumbManager']['getFurnitureCrumb'](_0x25362a);break;case _0x358a46['kuGme']:_0x13bee7='assets/content/global/igloo/flooring/icons/',_0x2a9eb1=this['cpworld']['crumbManager']['getFloorCrumb'](_0x25362a);break;case _0x358a46['EBltW']:_0x13bee7='assets/content/global/igloo/buildings/icons/',_0x2a9eb1=this['cpworld']['crumbManager']['getIglooCrumb'](_0x25362a);break;case'location':_0x13bee7='assets/content/global/igloo/locations/icons/',_0x2a9eb1=this['cpworld']['crumbManager']['getLocationCrumb'](_0x25362a);break;default:this['cpworld']['logger']['error'](_0x358a46['BxEGx']);}const _0x1a703d={};return _0x1a703d['path']=_0x13bee7,_0x1a703d['crumb']=_0x2a9eb1,_0x1a703d;}}