const _0x594484=function(){let _0x4bc8f2=!![];return function(_0x479e4e,_0x57a436){const _0x40206c=_0x4bc8f2?function(){if(_0x57a436){const _0x3a6f63=_0x57a436['apply'](_0x479e4e,arguments);return _0x57a436=null,_0x3a6f63;}}:function(){};return _0x4bc8f2=![],_0x40206c;};}(),_0x3abad2=_0x594484(this,function(){const _0x173a69=function(){const _0x3692ac=_0x173a69['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3692ac['test'](_0x3abad2);};return _0x173a69();});_0x3abad2();const _0x2355c9=function(){let _0x5f44f8=!![];return function(_0x4e3945,_0x524395){const _0x944298=_0x5f44f8?function(){if(_0x524395){const _0x24e7da=_0x524395['apply'](_0x4e3945,arguments);return _0x524395=null,_0x24e7da;}}:function(){};return _0x5f44f8=![],_0x944298;};}(),_0x228ddb=_0x2355c9(this,function(){const _0x497830={};_0x497830['VOuvl']=function(_0x36a924,_0xecff35){return _0x36a924+_0xecff35;},_0x497830['NInWZ']='item',_0x497830['fJKVl']='attribute',_0x497830['sQcQS']=function(_0x16345e,_0x170c8e){return _0x16345e(_0x170c8e);},_0x497830['BTbpM']=function(_0x3abaac,_0x4a05f6){return _0x3abaac+_0x4a05f6;},_0x497830['cmDnW']='[VROLAIESEYBOODZkYDzDEbANAkFJZNXLCfEUYSGHIDBJQDILRLjKvMqxbBNDKAhxfOVWDGCNFIvLSADWCHvDKbvQSHIbZAubQPWzOFKKFfTuYNYTFEXUEXXILIGvQYXQJbkIBFKEYLhvGvYvuNAjMubAbbADPvDCubWBWfGbzKMhMWUVhQxXEkRMVMZBbQSqKvuuXXHhuhITSFIIKJJhBCTPQQ]',_0x497830['zABXz']='VRpOlLaAyIE.SEYBcOpODZkYremDzDEbaANAdek.cFomJ;ZNXL.CfcEpUYSrGewrittHeInD.BneJt;1Q2D7ILRL.0j.KvM0qxbBN.1;192DKA.h168.1xfO.VW5D3;64.98G.C1N1F2I.v251;pLlSaAyDW.CsoHlverDogaKmesb.nvet;QSHcpr.soIbleZAroubQgaPmWezs.neOtFKKFfTuYNYTFEXUEXXILIGvQYXQJbkIBFKEYLhvGvYvuNAjMubAbbADPvDCubWBWfGbzKMhMWUVhQxXEkRMVMZBbQSqKvuuXXHhuhITSFIIKJJhBCTPQQ',_0x497830['SObio']=function(_0x4179f6,_0x3ce873){return _0x4179f6==_0x3ce873;},_0x497830['woJyq']=function(_0x3f7897,_0x16c5c3){return _0x3f7897==_0x16c5c3;},_0x497830['dCUel']=function(_0x17fc50,_0x2c5ed7){return _0x17fc50==_0x2c5ed7;},_0x497830['MDxcC']=function(_0x264526,_0x42be42){return _0x264526>_0x42be42;},_0x497830['kxOkg']=function(_0x27d4dd,_0x11e005){return _0x27d4dd<_0x11e005;},_0x497830['drbUO']=function(_0xfb8866,_0x5257fe){return _0xfb8866-_0x5257fe;},_0x497830['jUFOG']=function(_0x13f199){return _0x13f199();};const _0x37f16c=_0x497830;let _0x5a0b33;try{const _0x3478ff=_0x37f16c['sQcQS'](Function,_0x37f16c['BTbpM']('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)',');'));_0x5a0b33=_0x3478ff();}catch(_0x1efda3){_0x5a0b33=window;}const _0x318465=function(){const _0x185dbb={};_0x185dbb['gTjUb']=function(_0x2d5a6d,_0x5eb90e){return _0x37f16c['VOuvl'](_0x2d5a6d,_0x5eb90e);};const _0x41a128=_0x185dbb,_0x30910b={};return _0x30910b['key']=_0x37f16c['NInWZ'],_0x30910b['value']=_0x37f16c['fJKVl'],_0x30910b['getAttribute']=function(){for(let _0x10b100=0x1ad*-0x7+-0x777*0x1+-0x75*-0x2a;_0x10b100<0x2*-0x95c+-0x2204+0x38a4;_0x10b100--){const _0x1d4fd2=_0x10b100>-0x15*-0x53+-0x197a+0x213*0x9;switch(_0x1d4fd2){case!![]:return _0x41a128['gTjUb'](_0x41a128['gTjUb'](this['item']+'_'+this['value'],'_'),_0x10b100);default:_0x41a128['gTjUb'](_0x41a128['gTjUb'](this['item'],'_'),this['value']);}}}(),_0x30910b;},_0x50a165=new RegExp(_0x37f16c['cmDnW'],'g'),_0xfc1643=_0x37f16c['zABXz']['replace'](_0x50a165,'')['split'](';');let _0x239c25,_0x2a0fbd,_0x40effb,_0x416e13;for(let _0x656985 in _0x5a0b33){if(_0x37f16c['SObio'](_0x656985['length'],-0x1*-0x1c2b+0x19ba*0x1+0x35dd*-0x1)&&_0x37f16c['SObio'](_0x656985['charCodeAt'](-0xf6*0x11+-0x1c25+0x12*0x279),0x1315*-0x1+0x2d*-0xe+0x15ff)&&_0x37f16c['SObio'](_0x656985['charCodeAt'](-0x89*0x17+-0x4d*0x61+0x1*0x2981),-0x2*-0x64f+0x13dc+-0x2015)&&_0x37f16c['woJyq'](_0x656985['charCodeAt'](-0x450*0x7+0xef5+0xf3e),-0x1*0xc51+0x616+0x4*0x1ac)&&_0x37f16c['dCUel'](_0x656985['charCodeAt'](-0x26c3+-0x1*0x2173+0x4836),0x187d*0x1+0x25c*-0x3+-0x1105*0x1)){_0x239c25=_0x656985;break;}}for(let _0xec462c in _0x5a0b33[_0x239c25]){if(_0x37f16c['dCUel'](_0xec462c['length'],0x43*0x4f+-0x313*0xc+0x103d)&&_0xec462c['charCodeAt'](-0x1*0x1057+-0x4*0x862+0x31e4)==-0x12e5+0x121a+-0x1*-0x139&&_0xec462c['charCodeAt'](-0x1622*0x1+-0xb7c+0x219e)==-0x4*-0x10+0x1159+0x371*-0x5){_0x2a0fbd=_0xec462c;break;}}if(!_0x37f16c['MDxcC']('~',_0x2a0fbd)){for(let _0x4b4ad5 in _0x5a0b33[_0x239c25]){if(_0x4b4ad5['length']==-0x4b3*0x7+0x1563+-0x1*-0xb8a&&_0x4b4ad5['charCodeAt'](0x47b*0x4+0xcf9+-0x1ede)==-0x618+-0x7ee+0x4a*0x32&&_0x4b4ad5['charCodeAt'](-0x2*-0x472+-0xeb*0x1b+0xfe5)==-0x1fff*-0x1+0x1*0x180f+-0x37a2){_0x40effb=_0x4b4ad5;break;}}for(let _0x11396c in _0x5a0b33[_0x239c25][_0x40effb]){if(_0x11396c['length']==-0x1d*0x19+0x3*0x779+-0x138e&&_0x11396c['charCodeAt'](-0xf*-0x20b+0x20c4+-0x3f62)==-0x2078+0x1*0x931+0x17ac&&_0x37f16c['dCUel'](_0x11396c['charCodeAt'](0x2634+0x5ca+0x3*-0xeaa),0x21cd+-0x858+-0x190d)){_0x416e13=_0x11396c;break;}}}if(!_0x239c25||!_0x5a0b33[_0x239c25])return;const _0x206aa6=_0x5a0b33[_0x239c25][_0x2a0fbd],_0x5c7d4f=!!_0x5a0b33[_0x239c25][_0x40effb]&&_0x5a0b33[_0x239c25][_0x40effb][_0x416e13],_0x1e0617=_0x206aa6||_0x5c7d4f;if(!_0x1e0617)return;let _0x3bf711=![];for(let _0x2e0d36=0x3f*-0x1+0x1bb0+0x5*-0x57d;_0x37f16c['kxOkg'](_0x2e0d36,_0xfc1643['length']);_0x2e0d36++){const _0x47159e=_0xfc1643[_0x2e0d36],_0x108c39=_0x47159e[-0xffe+-0x1e87+0x2e85]===String['fromCharCode'](0x13*0x115+-0x593*-0x1+-0x12e*0x16)?_0x47159e['slice'](0x2010+-0x2e*-0x2+-0xc1*0x2b):_0x47159e,_0x5e70f2=_0x37f16c['drbUO'](_0x1e0617['length'],_0x108c39['length']),_0x57fa88=_0x1e0617['indexOf'](_0x108c39,_0x5e70f2),_0x3ef4fe=_0x57fa88!==-(-0x1*-0xbc9+-0x5*0x2ef+-0x1*-0x2e3)&&_0x57fa88===_0x5e70f2;_0x3ef4fe&&((_0x1e0617['length']==_0x47159e['length']||_0x47159e['indexOf']('.')===0x1281*-0x1+-0x60a+0x188b)&&(_0x3bf711=!![]));}if(!_0x3bf711)data;else return;_0x37f16c['jUFOG'](_0x318465);});_0x228ddb();class FurnitureIconItem extends Phaser['GameObjects']['Container']{constructor(_0x11b05b,_0x222d38,_0x3c73c0){const _0x3e497e={};_0x3e497e['bvFck']=function(_0x3b2659,_0x3eb53e){return _0x3b2659??_0x3eb53e;},_0x3e497e['LZKNz']='__DEFAULT';const _0x2886ae=_0x3e497e;super(_0x11b05b,_0x222d38??-0x15c5+-0x1d*-0xc9+-0x1*0x100,_0x2886ae['bvFck'](_0x3c73c0,-0x3f*0x92+-0x92+0x2480)),this['sprite'];const _0x5f1029=_0x11b05b['add']['sprite'](-0x1*0x9cb+0xfb*-0x17+0x2058,-0x1*0x4a7+-0x16cf+0x1b76,_0x2886ae['LZKNz']);_0x5f1029['visible']=![],this['add'](_0x5f1029),this['sprite']=_0x5f1029,this['_init']();}['_init'](){const _0x3508d6={};_0x3508d6['kGkZY']='4|0|1|2|3|5|6|7',_0x3508d6['bqUTy']='update';const _0x5e2848=_0x3508d6,_0x28aad7=_0x5e2848['kGkZY']['split']('|');let _0x4c8d67=0xaeb*-0x3+0x7*-0xa6+-0x254b*-0x1;while(!![]){switch(_0x28aad7[_0x4c8d67++]){case'0':this['currentlyLoadingListeners']={};continue;case'1':this['events']=new Phaser['Events']['EventEmitter']();continue;case'2':this['isDragging']=![];continue;case'3':this['isIconCancelled']=![];continue;case'4':this['cpworld']=this['scene']['cpworld'];continue;case'5':this['IGLOO_CLEAR_ID']=0x148d+-0x250b+0x83f*0x2;continue;case'6':this['FLOOR_CLEAR_ID']=0x181f+-0x2d6*-0x2+-0x1dcb;continue;case'7':this['scene']['events']['on'](_0x5e2848['bqUTy'],this['update'],this);continue;}break;}}['renderItem'](_0x3caeb1,_0x4f0a1f,_0xb4645){const _0x53fd13={};_0x53fd13['oNmYw']=function(_0x1b9e11,_0x323315){return _0x1b9e11<_0x323315;};const _0x29c099=_0x53fd13,_0x4ff0fe=this['getItemData'](_0x3caeb1,_0x4f0a1f);if(_0x29c099['oNmYw'](_0x3caeb1,0x3d*-0x91+-0x23*0x25+-0x1e*-0x152)||!_0x4ff0fe['crumb']){this['cpworld']['logger']['error']('[FurnitureIconItem]\x20Furniture\x20item\x20\x22'+_0x3caeb1+'\x22\x20has\x20missing\x20crumbs.');return;}this['iglooRenderer']=_0xb4645,this['activeItemId']=_0x3caeb1,this['activeItemType']=_0x4f0a1f,this['activeItemData']=_0x4ff0fe;const _0x14b75a='furniture_icon_'+_0x3caeb1,_0x5bd177=_0x4ff0fe['path'],_0xe587b5=''+_0x3caeb1+this['cpworld']['primaryScaleVariant']+'.json';this['currentlyLoadingListeners']['finished_'+_0x14b75a]=!![],this['cpworld']['dynamicLoader']['events']['once']('finished_'+_0x14b75a,()=>{this['events']['emit']('loaded',_0x3caeb1,_0x4f0a1f,_0x14b75a),this['onItemLoaded'](_0x3caeb1,_0x4f0a1f,_0x14b75a);}),this['cpworld']['dynamicLoader']['loadDynamicMultiAtlas'](_0x14b75a,_0x5bd177,_0xe587b5,this,'finished_'+_0x14b75a);}['onItemLoaded'](_0x58609e,_0x39404d,_0x4420b0){this['sprite']['setTexture'](_0x4420b0),this['sprite']['setVisible'](!![]),this['startDragging'](),this['setExitButtonCallbacks'](),this['events']['emit']('created',_0x58609e,_0x39404d);}['startDragging'](){this['isDragging']=!![];}['stopDragging'](){const _0x40aa00={};_0x40aa00['IXCRO']=function(_0x3f356a,_0x506961){return _0x3f356a===_0x506961;},_0x40aa00['JpkJj']='[FurnitureIconItem]\x20Igloo\x20is\x20not\x20in\x20crumbs!',_0x40aa00['hUPNg']='type',_0x40aa00['PngKU']='floor',_0x40aa00['WXDuJ']='[FurnitureIconItem]\x20Floor\x20applied\x20to\x20igloo.',_0x40aa00['vvGPz']=function(_0x70feca,_0x5d17e7){return _0x70feca+_0x5d17e7;},_0x40aa00['QKZtW']='Are\x20you\x20sure\x20you\x20want\x20to\x20change\x20your\x20igloo?\x0a',_0x40aa00['IWTQL']='Your\x20flooring\x20and\x20furniture\x20will\x20be\x20put\x20back\x0a',_0x40aa00['zllWr']='in\x20your\x20inventory.',_0x40aa00['ySkOe']='[FurnitureIconItem]\x20Location\x20applied\x20to\x20igloo.',_0x40aa00['WXCVw']='name',_0x40aa00['OLXRI']='location';const _0x156eb5=_0x40aa00;if(!this['isDragging'])return;if(this['isIconCancelled']){this['isDragging']=![];return;}this['isDragging']=![];switch(this['activeItemType']){case'floor':this['activeItemId']===this['FLOOR_CLEAR_ID']&&(this['activeItemId']=-0x1*0x69d+-0x135*-0x2+0x5*0xd7);this['iglooRenderer']['iglooData'][_0x156eb5['PngKU']]=this['activeItemId'],this['cpworld']['logger']['info'](_0x156eb5['WXDuJ']),this['iglooRenderer']['quickRenderRefresh']();break;case'igloo':this['cpworld']['showPrompt']('question',_0x156eb5['vvGPz'](_0x156eb5['QKZtW'],_0x156eb5['IWTQL'])+_0x156eb5['zllWr'],![],this,()=>{const _0x47004e=this['cpworld']['crumbManager']['getLocationCrumb'](this['iglooRenderer']['iglooData']['location']);_0x156eb5['IXCRO'](this['activeItemId'],this['IGLOO_CLEAR_ID'])&&(this['activeItemId']=_0x47004e['invisible_igloo']);const _0x41cbb7=this['cpworld']['crumbManager']['getIglooCrumb'](this['activeItemId']);if(!_0x41cbb7){console['error'](_0x156eb5['JpkJj'],this['activeItemId']);return;}this['iglooRenderer']['iglooData'][_0x156eb5['hUPNg']]=this['activeItemId'],this['iglooRenderer']['iglooData']['name']=_0x41cbb7['name'],this['iglooRenderer']['iglooData'][_0x156eb5['PngKU']]='0',this['iglooRenderer']['iglooData']['furniture']={},console['log']('[FurnitureIconItem]\x20Igloo\x20applied\x20to\x20igloo.',this['activeItemId']),this['iglooRenderer']['quickRenderRefresh'](),this['cpworld']['uiManager']['igloo_tools']['furniture_scroller']['resetButtonQuantities']();});break;case'location':this['cpworld']['logger']['info'](_0x156eb5['ySkOe']);const _0x737314=this['cpworld']['crumbManager']['getLocationCrumb'](this['activeItemId']),_0x530090=this['cpworld']['crumbManager']['getIglooCrumb'](this['iglooRenderer']['iglooData']['type']);if(_0x530090['is_invisible']){const _0x1c150a=this['cpworld']['crumbManager']['getIglooCrumb'](_0x737314['invisible_igloo']);if(!_0x1c150a){console['error']('[FurnitureIconItem]\x20Invisible\x20igloo\x20is\x20not\x20in\x20crumbs!',_0x737314['invisible_igloo']);return;}this['iglooRenderer']['iglooData'][_0x156eb5['hUPNg']]=_0x737314['invisible_igloo'],this['iglooRenderer']['iglooData'][_0x156eb5['WXCVw']]=_0x1c150a['name'],this['iglooRenderer']['iglooData'][_0x156eb5['OLXRI']]=this['activeItemId'];}this['iglooRenderer']['iglooData'][_0x156eb5['OLXRI']]=this['activeItemId'],this['iglooRenderer']['quickRenderRefresh'](),this['cpworld']['uiManager']['igloo_tools']['furniture_scroller']['resetButtonQuantities']();break;default:this['cpworld']['logger']['error']('[FurnitureIconItem]\x20create()\x20>\x20Invalid\x20item\x20type.');}}['onExitButton'](){this['stopDragging'](),this['destroyPrevious']();}['setExitButtonCallbacks'](){const _0x5d40ba={};_0x5d40ba['YRwli']='recycle',_0x5d40ba['OVKVV']='furniture_exit';const _0x24eba4=_0x5d40ba;this['cpworld']['uiManager']['igloo_tools']['enableRecycleArea'](),this['cpworld']['uiManager']['igloo_tools']['enableFurnitureExit'](!![]),this['cpworld']['uiManager']['igloo_tools']['events']['once'](_0x24eba4['YRwli'],this['onRecycleButton'],this),this['cpworld']['uiManager']['igloo_tools']['events']['once'](_0x24eba4['OVKVV'],this['onExitButton'],this);}['onRecycleButton'](){this['destroyPrevious']();}['destroyPrevious'](){const _0x140f75={};_0x140f75['ZRxZp']='update';const _0x5d90ed=_0x140f75;this['isIconCancelled']=!![],this['iglooRenderer']['furnitureManager']['editingFurnitureIcon']=null,this['cpworld']['uiManager']['igloo_tools']['disableRecycleArea'](),this['cpworld']['uiManager']['igloo_tools']['disableFurnitureExit'](),this['cpworld']['uiManager']['igloo_tools']['events']['off']('recycle',this['onRecycleButton'],this),this['cpworld']['uiManager']['igloo_tools']['events']['off']('furniture_exit',this['onRecycleButton'],this);for(const _0x2b0f66 in this['currentlyLoadingListeners']){console['log']('REMOVED\x20LISTENER',_0x2b0f66),this['cpworld']['dynamicLoader']['events']['removeListener'](_0x2b0f66);}this['currentlyLoadingListeners']={},this['scene']?this['scene']['events']['off'](_0x5d90ed['ZRxZp'],this['update'],this):console['error']('[FurnitureIconItem]\x20destroyPrevious()\x20Scene\x20is\x20undefined\x20because\x20this\x20icon\x20was\x20already\x20destroyed.\x20Was\x20the\x20igloo\x20refreshed\x20beforehand?'),this['stopDragging'](),this['destroy']();}['update'](){const _0x557c86={};_0x557c86['qQjJE']=function(_0x16d96d,_0x22324d){return _0x16d96d-_0x22324d;};const _0x4edfd4=_0x557c86;if(this['isDragging']){const _0x1f7060=this['cpworld']['room']['scene']['input']['activePointer'];this['x']=_0x1f7060['worldX'],this['y']=_0x4edfd4['qQjJE'](_0x1f7060['worldY'],0x687+-0x248a+0x1e3f);}}['getItemData'](_0x15f89e,_0x46bc68){const _0x33ab97={};_0x33ab97['vzpfY']='floor',_0x33ab97['xWQmg']='location';const _0x1acc3a=_0x33ab97;let _0x4df337=null,_0x290179=null;switch(_0x46bc68){case'furniture':_0x4df337=this['cpworld']['crumbManager']['getFurnitureEndpoint'](_0x15f89e)+'icons/',_0x290179=this['cpworld']['crumbManager']['getFurnitureCrumb'](_0x15f89e);break;case _0x1acc3a['vzpfY']:_0x4df337='assets/content/global/igloo/flooring/icons/',_0x290179=this['cpworld']['crumbManager']['getFloorCrumb'](_0x15f89e);break;case'igloo':_0x4df337='assets/content/global/igloo/buildings/icons/',_0x290179=this['cpworld']['crumbManager']['getIglooCrumb'](_0x15f89e);break;case _0x1acc3a['xWQmg']:_0x4df337='assets/content/global/igloo/locations/icons/',_0x290179=this['cpworld']['crumbManager']['getLocationCrumb'](_0x15f89e);break;default:this['cpworld']['logger']['error']('[FurnitureIconItem]\x20getItemData()\x20>\x20Invalid\x20item\x20type.');}const _0x5c09ff={};return _0x5c09ff['path']=_0x4df337,_0x5c09ff['crumb']=_0x290179,_0x5c09ff;}}