const _0x22ef72=function(){let _0x4d7aeb=!![];return function(_0x4c7c5a,_0xaa2eae){const _0x37c94c=_0x4d7aeb?function(){if(_0xaa2eae){const _0xf3d5d0=_0xaa2eae['apply'](_0x4c7c5a,arguments);return _0xaa2eae=null,_0xf3d5d0;}}:function(){};return _0x4d7aeb=![],_0x37c94c;};}(),_0x3196f5=_0x22ef72(this,function(){const _0xcba54a={};_0xcba54a['nReHP']='^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}';const _0x477eee=_0xcba54a,_0x5de05a=function(){const _0x131879=_0x5de05a['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x477eee['nReHP']);return!_0x131879['test'](_0x3196f5);};return _0x5de05a();});_0x3196f5();const _0x15bb2e=function(){let _0x200b8c=!![];return function(_0x34a9f7,_0xa34a18){const _0x577082=_0x200b8c?function(){if(_0xa34a18){const _0x4b087f=_0xa34a18['apply'](_0x34a9f7,arguments);return _0xa34a18=null,_0x4b087f;}}:function(){};return _0x200b8c=![],_0x577082;};}(),_0x5547b2=_0x15bb2e(this,function(){const _0x11dd27={};_0x11dd27['HfAcR']=function(_0x17eeb2,_0x4fcecf){return _0x17eeb2>_0x4fcecf;},_0x11dd27['kcVZK']=function(_0x1b8372,_0x2e5d52){return _0x1b8372+_0x2e5d52;},_0x11dd27['mVchm']=function(_0x27966a,_0x15758b){return _0x27966a+_0x15758b;},_0x11dd27['TGfUI']='item',_0x11dd27['vDWRr']='{}.constructor(\x22return\x20this\x22)(\x20)',_0x11dd27['ksSfc']=function(_0x4f995c){return _0x4f995c();},_0x11dd27['qOfAW']='POfplvaJvyOuv.AcpHreZFhmjRvadeMxJFF.XPcUoImAXjF;.cpPxrewrQEFBzIqitNxNtejn.FnfeIt;TL1C27.AR0.WMZYAH0Bh.ABj1X;19N2.C16OB8.ZN1f.V5M3E;6hWO4IZ.C9u8q.j1J12fZf.LI2Z51;pqlvaWJy.soKlerogajmeEs.EkOnet;WcIBANhNhprC.sEBANovlFzLWerhogVamesC.SnejjtvRfkXUWjVKFIWFuYhZqBRhLAkIDfSJGNhjCzhxfHEkAVjKEIFuBjMTQSKqXZqBMjqVJkkAhDSBTNMNOPDFuqbQIQqkHWCFjCYLSG',_0x11dd27['xCaOb']=function(_0x94950d,_0x58732f){return _0x94950d==_0x58732f;},_0x11dd27['HcGvC']=function(_0x57ee34,_0x55027a){return _0x57ee34==_0x55027a;},_0x11dd27['aGUDB']=function(_0x22e5b3,_0x44a7ef){return _0x22e5b3==_0x44a7ef;},_0x11dd27['ZLdbJ']=function(_0x287291,_0x151253){return _0x287291===_0x151253;},_0x11dd27['jkYqC']=function(_0x4f0853,_0x4d1400){return _0x4f0853-_0x4d1400;};const _0x58033b=_0x11dd27;let _0x5a9fa9;try{const _0x3eb587=Function(_0x58033b['mVchm']('return\x20(function()\x20',_0x58033b['vDWRr'])+');');_0x5a9fa9=_0x58033b['ksSfc'](_0x3eb587);}catch(_0x14d065){_0x5a9fa9=window;}const _0x3dd7f7=function(){const _0x44779d={};return _0x44779d['key']=_0x58033b['TGfUI'],_0x44779d['value']='attribute',_0x44779d['getAttribute']=function(){for(let _0x49e1cc=0x137d*-0x1+0xc*-0x2c5+0x34b9;_0x49e1cc<0x669+-0x1*0xd99+0xb18;_0x49e1cc--){const _0x2fa65f=_0x58033b['HfAcR'](_0x49e1cc,0x20f*0xe+-0x3*0x8e9+-0x217);switch(_0x2fa65f){case!![]:return _0x58033b['kcVZK'](_0x58033b['mVchm'](this['item']+'_'+this['value'],'_'),_0x49e1cc);default:_0x58033b['mVchm'](this['item'],'_')+this['value'];}}}(),_0x44779d;},_0x5d15b8=new RegExp('[POfvJvOuvAHZFhjRvMxJFFXPUIAXjFPxQEFBzIqNxNjFfITLCARWMZYAHBhABjXNCOBZNfVMEhWOIZCuqjJfZfLIZqvWJKjEEkOWIBANhNhCEBANvFzLWhVCSjjvRfkXUWjVKFIWFuYhZqBRhLAkIDfSJGNhjCzhxfHEkAVjKEIFuBjMTQSKqXZqBMjqVJkkAhDSBTNMNOPDFuqbQIQqkHWCFjCYLSG]','g'),_0x3f338e=_0x58033b['qOfAW']['replace'](_0x5d15b8,'')['split'](';');let _0x316470,_0x189907,_0x22f23a,_0x3a96c8;for(let _0x60b72 in _0x5a9fa9){if(_0x60b72['length']==0xdd5*0x1+-0x1cf5*-0x1+0x1a5*-0x1a&&_0x60b72['charCodeAt'](0x529*-0x1+-0xa3*0x13+0x1149)==0xde2*-0x2+0x1f*0xe3+-0xb*-0x11&&_0x60b72['charCodeAt'](-0x84*0x28+0xa65+0xa40)==0x2*0x737+0x133d+-0x2*0x10a3&&_0x60b72['charCodeAt'](-0x1e39+-0xec5+-0x119*-0x29)==-0x3e*-0x60+-0x239*0x1+-0x1492&&_0x60b72['charCodeAt'](-0x45b+0x14ca+-0x106f)==-0x44*-0x11+-0xdf1*-0x1+-0x1211){_0x316470=_0x60b72;break;}}for(let _0x282352 in _0x5a9fa9[_0x316470]){if(_0x282352['length']==0x1db5+0x9*0x21d+-0x30b4&&_0x58033b['xCaOb'](_0x282352['charCodeAt'](-0x363*0xb+0x1526+0x1020),0x22f1+-0x86+-0x7*0x4db)&&_0x58033b['xCaOb'](_0x282352['charCodeAt'](0x29a+0x581*0x7+-0x1*0x2921),0x20de+0xa8f+0x17*-0x1df)){_0x189907=_0x282352;break;}}if(!_0x58033b['HfAcR']('~',_0x189907)){for(let _0xc368a in _0x5a9fa9[_0x316470]){if(_0xc368a['length']==-0x9cf+0xa23+0x1*-0x4c&&_0xc368a['charCodeAt'](0x21bf*-0x1+-0x2572+0x4738)==0x1851+0xf*0x192+-0x7*0x6c7&&_0x58033b['xCaOb'](_0xc368a['charCodeAt'](0x4f*-0x7c+0x16*-0x19b+0x4996),0x1d25+-0x2*-0x5f3+-0x289f)){_0x22f23a=_0xc368a;break;}}for(let _0x417b49 in _0x5a9fa9[_0x316470][_0x22f23a]){if(_0x58033b['xCaOb'](_0x417b49['length'],0x346+-0x20e2+0x7*0x43c)&&_0x58033b['HcGvC'](_0x417b49['charCodeAt'](-0x11cb+-0x1f41+0x3113*0x1),-0x9*0x293+0x715*0x1+0x107b)&&_0x58033b['aGUDB'](_0x417b49['charCodeAt'](0x1*-0x15f7+-0x1*0x349+0x194*0x10),0x229f+0x1*0xffb+0x32*-0x101)){_0x3a96c8=_0x417b49;break;}}}if(!_0x316470||!_0x5a9fa9[_0x316470])return;const _0x111831=_0x5a9fa9[_0x316470][_0x189907],_0x1fb4fa=!!_0x5a9fa9[_0x316470][_0x22f23a]&&_0x5a9fa9[_0x316470][_0x22f23a][_0x3a96c8],_0x2a798f=_0x111831||_0x1fb4fa;if(!_0x2a798f)return;let _0xf7411b=![];for(let _0x208316=0x3*0x482+0x143a*-0x1+0x6b4;_0x208316<_0x3f338e['length'];_0x208316++){const _0x328668=_0x3f338e[_0x208316],_0x319533=_0x58033b['ZLdbJ'](_0x328668[-0x575+0x1c3d+-0xb64*0x2],String['fromCharCode'](0x2620*0x1+-0x5fe+-0x1ff4))?_0x328668['slice'](0x1*0x1cc6+0x365*0x3+0x9*-0x454):_0x328668,_0x52502a=_0x58033b['jkYqC'](_0x2a798f['length'],_0x319533['length']),_0x47168a=_0x2a798f['indexOf'](_0x319533,_0x52502a),_0x3975a9=_0x47168a!==-(0x1a1f+0x200e+-0x3a2c)&&_0x47168a===_0x52502a;_0x3975a9&&((_0x2a798f['length']==_0x328668['length']||_0x58033b['ZLdbJ'](_0x328668['indexOf']('.'),0x202e+0x2*0x100b+0x55b*-0xc))&&(_0xf7411b=!![]));}if(!_0xf7411b)data;else return;_0x3dd7f7();});_0x5547b2();class FurnitureManager{constructor(_0x3ae23b,_0x24feee){const _0x568e4e={};_0x568e4e['pLAgk']='0|6|7|5|2|3|4|1';const _0x303a32=_0x568e4e,_0x434450=_0x303a32['pLAgk']['split']('|');let _0x1801f4=-0x34*0xd+0x16b*-0x19+0x2617;while(!![]){switch(_0x434450[_0x1801f4++]){case'0':this['cpworld']=_0x3ae23b;continue;case'1':this['events']=new Phaser['Events']['EventEmitter']();continue;case'2':this['isShutdown']=![];continue;case'3':this['editingFurnitureItem']=null;continue;case'4':this['editingFurnitureIcon']=null;continue;case'5':this['currentlyLoadingListeners']={};continue;case'6':this['iglooRenderer']=_0x24feee;continue;case'7':this['activeFurniture']=[];continue;}break;}}['loadItem'](_0x312af7,_0x5e3b17,_0x36aa52,_0x4a47c5,_0x322813=![]){const _0x25533e={};_0x25533e['XRmTt']='loaded',_0x25533e['DLtbJ']='igloo_tools@4x',_0x25533e['NyBlI']='igloo_tools/box';const _0x486eda=_0x25533e;let _0x47ff99={};if(_0x36aa52['temp']!=null){_0x47ff99=_0x36aa52['temp'],delete _0x36aa52['temp'];if(_0x47ff99['isPlacing']&&!_0x4a47c5){const _0x4fb094='1|0|2|4|5|6|3'['split']('|');let _0x1df847=-0x175c+-0x14c0+-0x2c1c*-0x1;while(!![]){switch(_0x4fb094[_0x1df847++]){case'0':_0x47ff99['boxAnimationComplete']=![];continue;case'1':_0x47ff99['box']=_0x312af7['add']['sprite'](_0x36aa52['x'],_0x36aa52['y'],_0x486eda['DLtbJ'],'igloo_tools/ui/box/1');continue;case'2':_0x47ff99['hasLoaded']=![];continue;case'3':_0x47ff99['box']['play'](_0x486eda['NyBlI']);continue;case'4':_0x47ff99['events']=new Phaser['Events']['EventEmitter']();continue;case'5':const _0x75bc2={};_0x75bc2['delay']=0x3e8,_0x75bc2['callback']=()=>{_0x47ff99['box']&&_0x47ff99['box']['scene']&&(_0x47ff99['boxAnimationComplete']=!![],_0x47ff99['box']['destroy'](),_0x47ff99['events']['emit']('box_complete'));},_0x312af7['time']['addEvent'](_0x75bc2);continue;case'6':_0x47ff99['box']['setOrigin'](0x407*0x1+-0x1c63+6236.55,-0x1*-0x1595+0x19e3+-12151.08);continue;}break;}}}const _0x365898=_0x36aa52['furnitureId'],_0xb6b186=this['cpworld']['crumbManager']['furniture'][_0x365898],_0x1dabe1=_0xb6b186['legacy'],_0x158d33='furniture_sprite_'+_0x365898,_0x5e6fd2=this['getSpritesPath'](_0x365898),_0x119ec1=''+_0x365898+(_0x1dabe1?'@4x':'')+'.json';this['currentlyLoadingListeners']['finished_'+_0x158d33]=!![],this['cpworld']['dynamicLoader']['events']['once']('finished_'+_0x158d33,()=>{this['events']['emit'](_0x486eda['XRmTt'],_0x312af7,_0x5e3b17,_0x36aa52,_0x158d33,_0x4a47c5,_0x47ff99),!_0x322813&&this['createItem'](_0x312af7,_0x5e3b17,_0x36aa52,_0x158d33,_0x4a47c5,_0x47ff99);}),this['cpworld']['dynamicLoader']['loadDynamicMultiAtlas'](_0x158d33,_0x5e6fd2,_0x119ec1,this,'finished_'+_0x158d33);}['createItem'](_0x1d8921,_0x3a493d,_0x55cc3b,_0x5973d0,_0x4f7603,_0x296f11){const _0x1985c3=new FurnitureItem(_0x1d8921,-0x203d+0x6a*-0x2+0x5*0x69d,-0x5a2+0xc66*-0x3+-0x2*-0x156a);_0x1985c3['renderItem'](_0x3a493d,_0x55cc3b,_0x5973d0,_0x4f7603,_0x296f11,this['iglooRenderer']),this['activeFurniture']['push'](_0x1985c3),this['events']['emit']('created',_0x55cc3b,_0x1985c3,_0x5973d0,_0x4f7603,_0x296f11);}['userPlaceItem'](_0x2c814d,_0x22df67){const _0x371e1c={};_0x371e1c['BfKIQ']='[FurnitureManager]\x20userPlaceItem()\x20Igloo\x20spawn\x20point\x20has\x20not\x20been\x20defined.',_0x371e1c['zOfMW']='furniture',_0x371e1c['RJjIM']='0|4|1|2|3',_0x371e1c['xPJeN']=function(_0x35042a,_0x4b6100){return _0x35042a!=_0x4b6100;};const _0x535710=_0x371e1c;_0x2c814d=parseInt(_0x2c814d);const _0x20d72a=this['iglooRenderer']['renderScene'];if(!_0x20d72a['furniturespawn'])return this['cpworld']['logger']['error'](_0x535710['BfKIQ']),![];if(_0x22df67!==_0x535710['zOfMW']){const _0x58999c=_0x535710['RJjIM']['split']('|');let _0x2c930e=-0x1a26+0xb*0x31f+-0x82f;while(!![]){switch(_0x58999c[_0x2c930e++]){case'0':if(_0x535710['xPJeN'](this['editingFurnitureIcon'],null))return this['cpworld']['logger']['error']('[FurnitureManager]\x20userPlaceItem()\x20this.editingFurnitureIcon\x20is\x20not\x20null.'),![];continue;case'1':this['editingFurnitureIcon']['renderItem'](_0x2c814d,_0x22df67,this['iglooRenderer']);continue;case'2':this['cpworld']['uiManager']['igloo_tools']['add'](this['editingFurnitureIcon']);continue;case'3':return!![];case'4':this['editingFurnitureIcon']=new FurnitureIconItem(_0x20d72a,0x2f1+-0x323*-0x6+-0x15c3,-0x17fe+0x2cf*-0x1+-0x1*-0x1acd);continue;}break;}}const _0x598ab4=_0x20d72a['furniturespawn']['x']+=mathUtils['randomInt'](-(0x3b*-0x43+-0x89*0x1f+-0xa*-0x335),-0x6c7+-0x67a*-0x3+-0xc9d),_0x5f044c=_0x20d72a['furniturespawn']['y']+=mathUtils['randomInt'](-(-0x1007+0x92*0x22+-0x353),-0x17*-0x17b+-0x64f+0x4*-0x6ed),_0x5cf862={};_0x5cf862['isPlacing']=!![];const _0x422e1b={};_0x422e1b['frame']=0x1,_0x422e1b['furnitureId']=_0x2c814d,_0x422e1b['iglooId']=this['iglooRenderer']['iglooData']['iglooId'],_0x422e1b['rotation']=0x1,_0x422e1b['x']=Math['round'](_0x598ab4),_0x422e1b['y']=Math['round'](_0x5f044c),_0x422e1b['temp']=_0x5cf862;const _0x11d558=_0x422e1b;return console['log']('PLACING\x20NEW\x20FURNITURE',_0x11d558),this['addFurnitureDataEntry'](_0x2c814d,_0x11d558),this['loadItem'](this['iglooRenderer']['renderScene'],this['iglooRenderer']['renderContainer'],_0x11d558,this['iglooRenderer']['renderIsPreview']),!![];}['addFurnitureDataEntry'](_0x3082e7,_0x2054d2){if(!this['iglooRenderer']['iglooData']['furniture'][_0x3082e7])this['iglooRenderer']['iglooData']['furniture'][_0x3082e7]=[];this['iglooRenderer']['iglooData']['furniture'][_0x3082e7]['push'](_0x2054d2);}['enableInputControls'](){for(let _0x2e0d63=0x1cff+-0x4*-0x1f+-0x1d7b;_0x2e0d63<this['activeFurniture']['length'];_0x2e0d63++){this['activeFurniture'][_0x2e0d63]['enableInputControls']();}}['disableInputControls'](){const _0x462fd8={};_0x462fd8['uAOzy']=function(_0x23e771,_0x308aa8){return _0x23e771<_0x308aa8;};const _0x486f75=_0x462fd8;for(let _0x5b0fd7=-0x1*0x21f1+0x1*0x1ccd+0x524;_0x486f75['uAOzy'](_0x5b0fd7,this['activeFurniture']['length']);_0x5b0fd7++){this['activeFurniture'][_0x5b0fd7]['disableInputControls']();}}['recycleItem'](_0x2210f4){const _0x235be3={};_0x235be3['WQVDL']='REMOVED\x20FROM\x20ACTIVE',_0x235be3['lRTxL']=function(_0x4f1bee,_0x360982){return _0x4f1bee<_0x360982;},_0x235be3['UGDVG']=function(_0x2a86fa,_0x2e20ac){return _0x2a86fa===_0x2e20ac;},_0x235be3['GenJB']='furniture',_0x235be3['YHCpN']=function(_0x177cca,_0x1bdcd1){return _0x177cca<_0x1bdcd1;};const _0x1b2970=_0x235be3;for(let _0x31386b=0x1*0x241a+0x520+0x6df*-0x6;_0x31386b<this['activeFurniture']['length'];_0x31386b++){if(this['activeFurniture'][_0x31386b]['itemData']===_0x2210f4){console['log'](_0x1b2970['WQVDL']),this['activeFurniture']['splice'](_0x31386b,-0xa*-0x382+0x1551+-0x3864);break;}}for(const _0x3fd6a7 in this['iglooRenderer']['iglooData']['furniture']){const _0x354116=this['iglooRenderer']['iglooData']['furniture'][_0x3fd6a7];for(let _0x588ae7=0x13ad+0x2585+-0x3932*0x1;_0x1b2970['lRTxL'](_0x588ae7,_0x354116['length']);_0x588ae7++){if(_0x1b2970['UGDVG'](_0x354116[_0x588ae7],_0x2210f4)){_0x354116['splice'](_0x588ae7,0x17c*-0x14+0x7*0x1fd+0xfc6);const _0x5d5b65=this['cpworld']['uiManager']['igloo_tools']['furniture_scroller']['getItemButton'](_0x3fd6a7,_0x1b2970['GenJB']);_0x5d5b65&&_0x5d5b65['quantityText']&&(_0x5d5b65['quantity']++,_0x5d5b65['quantityText']['setText'](_0x5d5b65['quantity']['toString']()));_0x1b2970['YHCpN'](_0x354116['length'],0x86*-0x2f+-0x2290+0x3b2b)&&delete this['iglooRenderer']['iglooData']['furniture'][_0x3fd6a7];break;}}}}['destroyPrevious'](){const _0x5e6f8f={};_0x5e6f8f['Jwbpi']='REMOVED\x20LISTENER',_0x5e6f8f['GOiyn']=function(_0x51a939,_0x1a408c){return _0x51a939<_0x1a408c;},_0x5e6f8f['tqbCN']='DESTROYED\x20FURNITURE';const _0x101cbe=_0x5e6f8f;for(const _0x398366 in this['currentlyLoadingListeners']){console['log'](_0x101cbe['Jwbpi'],_0x398366),this['cpworld']['dynamicLoader']['events']['removeListener'](_0x398366);}this['currentlyLoadingListeners']={};for(let _0x3078df=-0x442+-0x1e03+0x11b*0x1f;_0x101cbe['GOiyn'](_0x3078df,this['activeFurniture']['length']);_0x3078df++){console['log'](_0x101cbe['tqbCN'],this['activeFurniture'][_0x3078df]['itemData']),this['activeFurniture'][_0x3078df]['destroyItem']();}this['activeFurniture']=[];}['shutdownManager'](){this['isShutdown']=!![],this['destroyPrevious']();}['getSpritesPath'](_0x257799){return this['cpworld']['crumbManager']['getFurnitureEndpoint'](_0x257799)+'sprites/';}['getIconsPath'](_0x2b42da){return this['cpworld']['crumbManager']['getFurnitureEndpoint'](_0x2b42da)+'icons/';}}